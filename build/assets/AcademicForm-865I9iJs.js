import{r as v,j as e,C,f as S,g as A,h as w,i as E,L as t,I as n,B as N,k as y,p as P,l as F,t as p}from"./index-Pm_8r_rA.js";import{S as d,b as o,c as h,d as u,e as l,T as i}from"./select-8aGA95k4.js";import{S as k}from"./send-B8wXWvm2.js";function I({onComplete:b}){const[x,g]=v.useState(!1),[a,j]=v.useState({prn:"",name:"",batch:"",department:"",currentSemester:"",academicYear:"",twelfthBoard:"",twelfthPercentage:"",twelfthPassingYear:"",entranceExam:"",entranceScore:"",entranceRank:"",previousSemesterGPA:"",currentSemesterCGPA:"",backlogs:"",backlogSubjects:"",hobbies:"",interests:"",skills:"",strengths:"",weaknesses:"",fatherOccupation:"",motherOccupation:"",familyIncome:"",personalEmail:"",contactNumber:"",alternateContact:"",permanentAddress:"",currentAddress:"",extracurricularActivities:"",achievements:"",futureGoals:"",specialNeeds:"",medicalHistory:""}),s=(r,c)=>{j(m=>({...m,[r]:c}))},f=async r=>{r.preventDefault(),g(!0);try{if(!a.prn||!a.name||!a.batch||!a.department||!a.currentSemester||!a.academicYear||!a.twelfthBoard||!a.twelfthPercentage||!a.twelfthPassingYear||!a.entranceExam||!a.personalEmail||!a.contactNumber)throw new Error("All required fields must be filled");const c=await fetch(`https://${P}.supabase.co/functions/v1/make-server-84115a1d/mentee/academic`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${F}`},body:JSON.stringify(a)}),m=await c.json();if(!c.ok)throw new Error(m.error||"Failed to submit academic form");p.success("Academic details submitted successfully!"),b(),j({prn:"",name:"",batch:"",department:"",currentSemester:"",academicYear:"",twelfthBoard:"",twelfthPercentage:"",twelfthPassingYear:"",entranceExam:"",entranceScore:"",entranceRank:"",previousSemesterGPA:"",currentSemesterCGPA:"",backlogs:"",backlogSubjects:"",hobbies:"",interests:"",skills:"",strengths:"",weaknesses:"",fatherOccupation:"",motherOccupation:"",familyIncome:"",personalEmail:"",contactNumber:"",alternateContact:"",permanentAddress:"",currentAddress:"",extracurricularActivities:"",achievements:"",futureGoals:"",specialNeeds:"",medicalHistory:""})}catch(c){console.error("Academic form submission error:",c),p.error(c instanceof Error?c.message:"Failed to submit academic form")}finally{g(!1)}};return e.jsxs(C,{className:"w-full",children:[e.jsxs(S,{children:[e.jsx(A,{className:"text-blue-900",children:"Academic Details Form"}),e.jsx(w,{className:"text-blue-600",children:"Please provide your complete academic and personal information"})]}),e.jsx(E,{children:e.jsxs("form",{onSubmit:f,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"prn",children:"PRN *"}),e.jsx(n,{id:"prn",placeholder:"Enter your PRN",value:a.prn,onChange:r=>s("prn",r.target.value),required:!0,pattern:"[0-9A-Z]{10,12}",title:"PRN should be 10-12 characters long"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"name",children:"Full Name *"}),e.jsx(n,{id:"name",placeholder:"Enter your full name",value:a.name,onChange:r=>s("name",r.target.value),required:!0,minLength:2})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"batch",children:"Batch *"}),e.jsx(n,{id:"batch",placeholder:"e.g., 2021-2025",value:a.batch,onChange:r=>s("batch",r.target.value),required:!0,pattern:"[0-9]{4}-[0-9]{4}",title:"Batch format should be YYYY-YYYY"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"department",children:"Department *"}),e.jsxs(d,{value:a.department,onValueChange:r=>s("department",r),required:!0,children:[e.jsx(o,{children:e.jsx(h,{placeholder:"Select department"})}),e.jsxs(u,{children:[e.jsx(l,{value:"computer",children:"Computer Engineering"}),e.jsx(l,{value:"mechanical",children:"Mechanical Engineering"}),e.jsx(l,{value:"electrical",children:"Electrical Engineering"}),e.jsx(l,{value:"civil",children:"Civil Engineering"}),e.jsx(l,{value:"electronics",children:"Electronics Engineering"}),e.jsx(l,{value:"it",children:"Information Technology"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"currentSemester",children:"Current Semester *"}),e.jsxs(d,{value:a.currentSemester,onValueChange:r=>s("currentSemester",r),required:!0,children:[e.jsx(o,{children:e.jsx(h,{placeholder:"Select semester"})}),e.jsx(u,{children:[1,2,3,4,5,6,7,8].map(r=>e.jsxs(l,{value:r.toString(),children:["Semester ",r]},r))})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"academicYear",children:"Academic Year *"}),e.jsx(n,{id:"academicYear",placeholder:"e.g., 2024-25",value:a.academicYear,onChange:r=>s("academicYear",r.target.value),required:!0,pattern:"[0-9]{4}-[0-9]{2}",title:"Academic year format should be YYYY-YY"})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"12th Grade Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"twelfthBoard",children:"Board *"}),e.jsxs(d,{value:a.twelfthBoard,onValueChange:r=>s("twelfthBoard",r),required:!0,children:[e.jsx(o,{children:e.jsx(h,{placeholder:"Select board"})}),e.jsxs(u,{children:[e.jsx(l,{value:"maharashtra",children:"Maharashtra State Board"}),e.jsx(l,{value:"cbse",children:"CBSE"}),e.jsx(l,{value:"icse",children:"ICSE"}),e.jsx(l,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"twelfthPercentage",children:"Percentage *"}),e.jsx(n,{id:"twelfthPercentage",type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g., 85.50",value:a.twelfthPercentage,onChange:r=>s("twelfthPercentage",r.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"twelfthPassingYear",children:"Passing Year *"}),e.jsx(n,{id:"twelfthPassingYear",type:"number",min:"2000",max:"2030",placeholder:"e.g., 2021",value:a.twelfthPassingYear,onChange:r=>s("twelfthPassingYear",r.target.value),required:!0})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Entrance Exam Details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"entranceExam",children:"Entrance Exam *"}),e.jsxs(d,{value:a.entranceExam,onValueChange:r=>s("entranceExam",r),required:!0,children:[e.jsx(o,{children:e.jsx(h,{placeholder:"Select exam"})}),e.jsxs(u,{children:[e.jsx(l,{value:"jee-main",children:"JEE Main"}),e.jsx(l,{value:"mht-cet",children:"MHT CET"}),e.jsx(l,{value:"jee-advanced",children:"JEE Advanced"}),e.jsx(l,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"entranceScore",children:"Score"}),e.jsx(n,{id:"entranceScore",placeholder:"Enter your score",value:a.entranceScore,onChange:r=>s("entranceScore",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"entranceRank",children:"Rank"}),e.jsx(n,{id:"entranceRank",type:"number",min:"1",placeholder:"Enter your rank",value:a.entranceRank,onChange:r=>s("entranceRank",r.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Current Academic Performance"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"previousSemesterGPA",children:"Previous Semester GPA"}),e.jsx(n,{id:"previousSemesterGPA",type:"number",step:"0.01",placeholder:"e.g., 8.50",value:a.previousSemesterGPA,onChange:r=>s("previousSemesterGPA",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"currentSemesterCGPA",children:"Current CGPA"}),e.jsx(n,{id:"currentSemesterCGPA",type:"number",step:"0.01",placeholder:"e.g., 8.25",value:a.currentSemesterCGPA,onChange:r=>s("currentSemesterCGPA",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"backlogs",children:"Number of Backlogs"}),e.jsx(n,{id:"backlogs",type:"number",placeholder:"0",value:a.backlogs,onChange:r=>s("backlogs",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"backlogSubjects",children:"Backlog Subjects (if any)"}),e.jsx(n,{id:"backlogSubjects",placeholder:"List subjects with backlogs",value:a.backlogSubjects,onChange:r=>s("backlogSubjects",r.target.value)})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Personal Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"hobbies",children:"Hobbies"}),e.jsx(n,{id:"hobbies",placeholder:"e.g., Reading, Sports, Music",value:a.hobbies,onChange:r=>s("hobbies",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"interests",children:"Interests"}),e.jsx(n,{id:"interests",placeholder:"e.g., Technology, Research, Entrepreneurship",value:a.interests,onChange:r=>s("interests",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"skills",children:"Technical Skills"}),e.jsx(n,{id:"skills",placeholder:"e.g., Programming Languages, Tools",value:a.skills,onChange:r=>s("skills",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"strengths",children:"Strengths"}),e.jsx(n,{id:"strengths",placeholder:"e.g., Leadership, Communication",value:a.strengths,onChange:r=>s("strengths",r.target.value)})]})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"weaknesses",children:"Areas for Improvement"}),e.jsx(i,{id:"weaknesses",placeholder:"Areas you would like to improve upon...",value:a.weaknesses,onChange:r=>s("weaknesses",r.target.value),rows:2})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Contact Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"personalEmail",children:"Personal Email *"}),e.jsx(n,{id:"personalEmail",type:"email",placeholder:"your.email@example.com",value:a.personalEmail,onChange:r=>s("personalEmail",r.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"contactNumber",children:"Contact Number *"}),e.jsx(n,{id:"contactNumber",type:"tel",placeholder:"+91 9876543210",value:a.contactNumber,onChange:r=>s("contactNumber",r.target.value),required:!0,pattern:"[0-9+\\-\\s]{10,15}",title:"Please enter a valid phone number"})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"alternateContact",children:"Alternate Contact"}),e.jsx(n,{id:"alternateContact",type:"tel",placeholder:"Parent/Guardian number",value:a.alternateContact,onChange:r=>s("alternateContact",r.target.value)})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"fatherOccupation",children:"Father's Occupation"}),e.jsx(n,{id:"fatherOccupation",placeholder:"Father's profession",value:a.fatherOccupation,onChange:r=>s("fatherOccupation",r.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(t,{htmlFor:"permanentAddress",children:"Permanent Address"}),e.jsx(i,{id:"permanentAddress",placeholder:"Enter your permanent address",value:a.permanentAddress,onChange:r=>s("permanentAddress",r.target.value),rows:2})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"currentAddress",children:"Current Address"}),e.jsx(i,{id:"currentAddress",placeholder:"Enter your current address",value:a.currentAddress,onChange:r=>s("currentAddress",r.target.value),rows:2})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-medium text-blue-900",children:"Additional Information"}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"extracurricularActivities",children:"Extracurricular Activities"}),e.jsx(i,{id:"extracurricularActivities",placeholder:"Sports, clubs, volunteering, competitions...",value:a.extracurricularActivities,onChange:r=>s("extracurricularActivities",r.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"achievements",children:"Achievements & Awards"}),e.jsx(i,{id:"achievements",placeholder:"Academic achievements, competitions, certifications...",value:a.achievements,onChange:r=>s("achievements",r.target.value),rows:3})]}),e.jsxs("div",{children:[e.jsx(t,{htmlFor:"futureGoals",children:"Future Goals & Career Aspirations"}),e.jsx(i,{id:"futureGoals",placeholder:"Your career goals and aspirations...",value:a.futureGoals,onChange:r=>s("futureGoals",r.target.value),rows:3})]})]}),e.jsx(N,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:x,children:x?e.jsxs(e.Fragment,{children:[e.jsx(y,{className:"h-4 w-4 mr-2 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Submit Academic Details"]})})]})})]})}export{I as AcademicForm};
